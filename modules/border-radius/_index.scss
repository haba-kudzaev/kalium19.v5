@use '../../config' as *;
@use '../prefixer' as *;
@use '../background/clip' as *;

/// –ú–∏–∫—Å–∏–Ω `border-radius()` —è–≤–ª—è–µ—Ç—Å—è –ª–∏—à—å –æ–±–µ—Ä—Ç–∫–æ–π
/// –Ω–∞–¥ –º–∏–∫—Å–∏–Ω–æ–º `prefixer()`, –∫–æ—Ç–æ—Ä—ã–π –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç —Å–≤–æ–π—Å—Ç–≤–æ
/// `border-radius` —Å –ø—Ä–µ—Ñ–∏–∫—Å–∞–º–∏, –∫–æ—Ç–æ—Ä—ã–µ —Ö—Ä–∞–Ω—è—Ç—Å—è –≤ –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π `$prfxs_border-radius`
/// ---
/// @name border-radius
/// @since 4.0.0
/// @group mixin.border-radius
/// @access public
/// @author Haba Kudzaev
/// @link https://github.com/rx1310/kalium19
/// @example scss –ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –≤ Sass (SCSS)
/// 	.block {
/// 		@include border-radius(18px);
/// 	}
/// @example css –†–µ–∑—É–ª—å—Ç–∞—Ç –≤ CSS
/// 	.block {
/// 	  -webkit-border-radius: 18px;
/// 	  -moz-border-radius: 18px;
/// 	  border-radius: 18px;
/// 	}
/// @see {Variable} $border-radius
/// @require {Mixin} prefixer
/// @require {Mixin} background-clip
/// @param {String | Number} $radius [$border-radius] - —Ä–∞–¥–∏—É—Å —Å–∫—Ä—É–≥–ª–µ–Ω–∏—è
/// @param {String} $clip [null] - –∑–Ω–∞—á–µ–Ω–∏–µ —Å–≤–æ–π—Å—Ç–≤–∞ `background-clip`
@mixin border-radius($radius: $border-radius, $clip: null) {

	// –µ—Å–ª–∏ –∑–Ω–∞—á–µ–Ω–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞ $clip –∏—Å—Ç–∏–Ω–∞ (true) –∏–ª–∏ "padding",
	// —Ç–æ –ø—Ä–∏—Å–≤–∞–∏–≤–∞–µ–º –∑–Ω–∞—á–µ–Ω–∏–µ "padding-box" —Å–≤–æ–π—Å—Ç–≤—É background-clip:
	@if $clip == true or $clip == padding or $clip == border {

		$clipValue: null !default;

		@if $clip == true or $clip == padding {
			$clipValue: padding-box;
		} @else {
			$clipValue: border-box;
		}

		// —Ç.–∫. Firefox –¥–æ –≤–µ—Ä—Å–∏–∏ 4 –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç —Å–≤–æ–π—Å—Ç–≤–æ
		// —Å –ø—Ä–µ—Ñ–∏–∫—Å–æ–º –∏ –∑–Ω–∞—á–µ–Ω–∏—è padding –∏ border
		@include background-clip($clipValue);

	} @else if $clip != null {
		background-clip: $clip;
	}

	// ? [1] –ø–µ—Ä–µ–¥–∞–µ–º –ø—Ä–µ—Ñ–∏–∫—Å–µ—Ä—É —Å–≤–æ–π—Å—Ç–≤–æ, –∫ –∫–æ—Ç–æ—Ä–æ–º—É –Ω–∞–¥–æ –¥–æ–±–∞–≤–∏—Ç—å –ø—Ä–µ—Ñ–∏–∫—Å—ã
	// ? [2] –ø–µ—Ä–µ–¥–∞–µ–º –ø—Ä–µ—Ñ–∏–∫—Å–µ—Ä—É –∑–Ω–∞—á–µ–Ω–∏–µ —Å–≤–æ–π—Å—Ç–≤–∞
	// ? [3] –ø–µ—Ä–µ–¥–∞–µ–º –ø—Ä–µ—Ñ–∏–∫—Å–µ—Ä—É —Å–ø–∏—Å–æ–∫ –ø—Ä–µ—Ñ–∏–∫—Å–æ–≤, –∫–æ—Ç–æ—Ä—ã–µ –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –¥–æ–±–∞–≤–ª–µ–Ω—ã –∫ —Å–≤–æ–π—Å—Ç–≤—É
	@include prefixer(
		border-radius, // 1
		$radius, // 2
		$prfxs_border-radius // 3
	);

	// –æ–ø–æ–≤–µ—Å—Ç–∏–º —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞ –æ —Ç–æ–º, —á—Ç–æ –µ–≥–æ
	// –º–∞—à–∏–Ω–∞ –∑—Ä—è —Ä–∞–±–æ—Ç–∞–µ—Ç –∏ –ø—ã—Ç–∞–µ—Ç—Å—è —Å–≥–µ–Ω–µ—Ä–∏—Ç—å –ø—É—Å—Ç–æ–π –º–∏–∫—Å–∏–Ω:
	@if $radius == null {
		@warn 'üëª –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –ø—É—Å—Ç–æ–π –º–∏–∫—Å–∏–Ω "border-radius"!'
	}

}
